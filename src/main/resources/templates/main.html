<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ebook</title>
    <!-- 폰트 설정 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    <!-- 아이콘 관련 -->
    <link class="material-symbols-outlined" rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <!-- 제이쿼리 설정 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
            integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- alert 커스텀 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.css">
    <!-- js -->
    <script src="/js/function.js"></script>
    <!-- css -->
    <link rel="stylesheet" type="text/css" href="/css/common.css"/>
</head>
<style>
    body {
        width: 100vw;
        height: 100vh;
        background: #ccc;
        overflow: hidden;
    }

    .wrap {
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        /*position: fixed;	!* 스크롤 고정 *!*/
        /*overflow: hidden;	!* 스크롤 고정 *!*/
    }

    .login-form {
        width: 100%;
        /* 수직 가운데 정렬 */
        position: absolute;
        top: 50%;
        transform: translate(0, -50%);
    }

    .login-form div {
        width: 100%;
        height: 100%;
        margin: 15px 0;
        text-align: center;
    }

    .password {
        width: 300px;
        height: 50px;
        border-radius: 5px;
        border: none;
        padding: 0 10px;
        box-sizing: border-box;
        text-align: center;
    }

    .submitBtn {
        width: 100px;
        height: 40px;
        border-radius: 5px;
        border: none;
        background-color: #FFF;
    }
</style>
<script th:inline="javascript">
    $(function () {
        $('#submitBtn').on('click',function(event){
            goEbook();
        });

        //엔터 이벤트
        $('#password').on('keyup',function(event){
            if(event.keyCode === 13){
                goEbook();
            }
        });
    });

    function goEbook() {
        let reqData = $('#loginForm').serialize();

        cfn_ajaxRequest('/login', 'POST', reqData);
    }

    function fn_callback(callbackId, resData) {
        if (callbackId === 'login') {
            let isMatch = resData;

            if(isMatch) {
                location.href = '/ebook';
            }
            else {
                $('#password').focus();

                Swal.fire({
                    text: "비밀번호가 일치하지 않습니다.",
                    confirmButtonColor: '#000000',
                    icon: "warning"
                });
            }
        }
        else{}
    }
    // 모바일인지 체크하는 함수
    function isMobile() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }
</script>
<body>
<div class="wrap">
    <form id="loginForm" class="login-form" name="loginForm" onsubmit="return false">
        <div>
            <label for="password"></label><input type="password" id="password" name="password" class="password" placeholder="비밀번호를 입력하세요.">
        </div>
        <div>
            <input type="button" id="submitBtn" class="submitBtn" value="입력">
        </div>
    </form>
</div>
</body>
</html>